<script>
// Function to redirect to the target website if not already there and the website exists
async function redirectToWebsiteIfNotAlreadyThere(targetUrl) {
  const currentUrl = window.location.href;

  // Check if the user is already on the target website
  if (currentUrl.startsWith(targetUrl)) {
    console.log("User is already on the target website. No redirection needed.");
    return;
  }

  try {
    // Check if the target website is online by sending a HEAD request
    const response = await fetch(targetUrl, { method: 'HEAD' }); // Only check the headers
    if (response.ok) {
      console.log("Website is online. Redirecting...");
      window.location.href = targetUrl;
    } else {
      console.error(`Website is not accessible. Status: ${response.status}`);
    }
  } catch (error) {
    console.error("Error accessing the website:", error);
  }
}

// Run the function after w3-include-html is done
document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {
    redirectToWebsiteIfNotAlreadyThere("https://pdbt.org/login.php");
  }, 100); // Delay ensures the content is fully loaded
});
</script>

<div id="topnav">
      <a class="active" href="https://ponderbot.org"><img src="https://raw.githubusercontent.com/Ponderbot-Research/website/main/_resources/logo-transparent_small.png" style="height:3em;filter:invert(1);"></a>
      <a href="https://ponderbot.org/awareness.html">Awareness</a>
      <a href="https://earth.pdbt.org">🌍 Earth</a>
      <a href="https://foods.pdbt.org">🍫 Foods</a>
      <a href="https://ponderbot.org/people">People</a>
      <a href="https://ponderbot.org/donate.html">Donate</a>
      <a href="https://forms.gle/CQTYig3phzUCKnqq7">Contact Us</a>
      <div w3-include-html="https://pdbt.org/topnav-login-details.php"></div> 
    </div>
